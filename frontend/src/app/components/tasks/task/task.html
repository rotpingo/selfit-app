<app-fab-menu [options]="menuOptions" />

@if(isFormOpen()){
  <app-backdrop (close)="onCloseForm()" />
}

<form class="task-form" [formGroup]="endForm" (ngSubmit)="onCompleteTask()" #taskForm>
  <h3>{{ task()?.title }}</h3>
  <textarea class="content" [rows]="12" [disabled]="true">{{ task()?.content}}</textarea>
  <div class="options-ctn">
    <p>task options</p>
    <p>due date: {{ task()?.dueDate | date:'fullDate' }}</p>
    @if(task()?.isRepeat){
      @if(task()?.interval === 1){
        interval: {{ task()?.interval}} day
      }@else {
        interval: {{ task()?.interval}} days
      }
    }
  </div>
  <div class="notes-ctn">
    <label>notes</label>
    <textarea [rows]="10" formControlName="notes"></textarea>
  </div>
  <div class="form-btns">
    <button id="cancel-btn" type="button" (click)="onAbortTask()">abort</button>
    <button id="submit-btn" type="submit">complete</button>
  </div>
</form>

<form class="edit-form" [formGroup]="editForm" (ngSubmit)="onEditTask()" #form>
  <h3>task adjustment</h3>
  <label>task title</label>
  <input class="form-input" type="text" formControlName="title">
  <label>task content</label>
  <textarea class="form-textarea" rows="12" formControlName="content"></textarea>
  <div class="options-ctn">
    <label>task options</label>
    <div class="task-options-ctn">
      <div class="options-item-ctn">
        <p>repeat task</p>
        <input type="checkbox" formControlName="isRepeat">
      </div>
      <div class="options-item-ctn">
        <p>interval days</p>
       <input class="options-interval" type="number" [min]="0" formControlName="interval">
     </div>
    </div>
    <div class="date-ctn">
      <p>task date:</p>
      <input type="date" formControlName="dueDate">
    </div>
  </div>
  <div class="form-btns">
    <button id="cancel-btn" type="button" (click)="onCloseForm()">cancel</button>
    <button id="submit-btn" type="submit">save</button>
  </div>
</form>
